<link rel="import" href="../../bower_components/iron-icons/image-icons.html">
<link rel="import" href="../game-players/game-players.html">
<link rel="import" href="../game-ages/game-ages.html">
<link rel="import" href="../game-artists/game-artists.html">
<link rel="import" href="../game-designers/game-designers.html">
<link rel="import" href="../game-publishers/game-publishers.html">
<link rel="import" href="../game-released/game-released.html">
<link rel="import" href="../game-ratings/game-ratings.html">

<dom-module id="game-info">
  <style is="custom-style">
    section {
      padding: 16px;
    }

    div {
      margin-top: 10px;
    }

    dl dd {
      display: inline;
      margin: 0;
    }

    dl dd:after {
      display: block;
      content: '';
      margin-bottom: 7px;
    }

    dl dt {
      display: inline-block;
      min-width: 40%;
    }

    .tag {
      line-height: 1.9;
      /*display: inline;*/
      color: #fff;
      padding: .2em .6em .2em;
      font-size: 75%;
      font-weight: 700;
      text-align: center;
      white-space: nowrap;
      vertical-align: baseline;
      margin-bottom: 3px;
    }

    .tag-category {
      background-color: var(--accent-color);
    }

    .tag-mechanics {
      background-color: var(--google-green-500);
    }

    .tag-tags {
      background-color: var(--dark-primary-color);
    }

    iron-icon {
      color: var(--secondary-text-color);
    }

    label {
      font-weight: 300;
    }

    game-ratings {
      margin-bottom: 20px;
    }
  </style>
  <template>
    <iron-image src="http://lorempixel.com/400/400" style="width:100%; height: 200px" sizing="cover"></iron-image>

    <section>

      <h3>{{name}}</h3>

      <game-ratings rating="{{rating}}"></game-ratings>

      <div>
        <template is="dom-repeat" items="{{categories}}">
          <span class="tag tag-category">{{item}}</span>
        </template>

        <template is="dom-repeat" items="{{mechanics}}">
          <span class="tag tag-mechanics">{{item}}</span>
        </template>

        <template is="dom-repeat" items="{{tags}}">
          <span class="tag tag-tags">{{item}}</span>
        </template>
      </div>

      <dl>
        <dt>
          <iron-icon icon="event"></iron-icon>
          <label>Released</label>
        </dt>
        <dd>
          <game-released model="{{released}}"></game-released>
        </dd>
        <dt>
          <iron-icon icon="image:edit"></iron-icon>
          <label>Designers</label>
        </dt>
        <dd>
          <game-designers designers="{{designers}}"></game-designers>
        </dd>
        <dt>
          <iron-icon icon="image:brush"></iron-icon>
          <label>Artists</label>
        </dt>
        <dd>
          <game-artists artists="{{artists}}"></game-artists>
        </dd>
        <dt>
          <iron-icon icon="work"></iron-icon>
          <label>Published by</label>
        </dt>
        <dd>
          <game-publishers publishers="{{publishers}}"></game-publishers>
        </dd>
        <dt>
          <iron-icon icon="home"></iron-icon>
          <label>Website</label>
        </dt>
        <dd>
          <a href="{{website}}">{{website}}</a>
        </dd>
        <dt>
          <iron-icon icon="book"></iron-icon>
          <label>Rules</label>
        </dt>
        <dd>
          <a href="{{rules}}">{{rules}}</a>
        </dd>
        <dt>
          <iron-icon icon="face"></iron-icon>
          <label>Players</label>
        </dt>
        <dd>
          <game-players min={{players.min}} max={{players.max}} recommended={{players.recommended}}></game-players>
        </dd>
        <dt>
          <iron-icon icon="hourglass-empty"></iron-icon>
          <label>Ages</label>
        </dt>
        <dd>
          <game-ages min="{{ages.min}}" max="9"></game-ages>
        </dd>
        <dt>
          <iron-icon icon="schedule"></iron-icon>
          <label>Time</label>
        </dt>
        <dd>
          30-70 min
        </dd>
      </dl>
    </section>
  </template>

	<script>
	  (function() {
	    Polymer({
	      is: 'game-info',

	      properties: {
          website: String,
          released: Object,
          publishers: Array,
          players: Object,
          name: String,
          rules: String,
          designers: Array,
          ages: Object,
          readonly: Boolean,
          categories: Array,
          mechanics: Array,
          tags: Array,
          artists: Array,
          rating: Number
	      }
	    });
	  })();
	</script>

</dom-module>
